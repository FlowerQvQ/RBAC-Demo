# RBAC-Demo
RBAC 权限管理系统项目解析
     这是一个基于 Go 语言开发的 RBAC（Role-Based Access Control，基于角色的访问控制）权限管理系统。让我为您详细解释整个项目的功能和各部分实现。

项目概述
     RBAC 权限管理系统实现了基于角色的访问控制机制，主要包括用户管理、角色管理、资源管理以及用户-角色、角色-资源的权限绑定关系。

项目架构
     项目采用了分层架构设计，主要包括以下层次：
     路由层 (Router) - 处理 HTTP 请求路由
     服务层 (Service) - 处理业务逻辑和请求参数
     业务层 (Biz) - 实现核心业务逻辑
     数据层 (Data) - 负责数据访问和缓存处理
     模型层 (Models) - 定义数据模型
     工具层 (Util/Wapper) - 提供通用工具和错误处理

各模块详细功能
1. 用户管理模块
   功能：
   用户注册（密码加密存储）
   用户登录（JWT Token 验证）
   用户列表查询（支持分页和条件查询）
   用户信息查询、更新、删除
   实现要点：
   使用 bcrypt 进行密码加密
   JWT Token 用于身份验证
   支持分页查询和条件过滤
2. 角色管理模块
   功能：
   角色创建、查询、更新、删除
   角色列表查询（支持分页）
   实现要点：
   角色具有名称、描述等属性
   支持按角色ID、名称等条件查询
3. 资源管理模块
   功能：
   资源创建、查询、更新、删除
   资源列表查询（支持分页）
   实现要点：
   资源包括路径、类型（菜单、按钮等）等属性
   每个资源有唯一的访问路径
4. 用户-角色绑定模块
   功能：
   为用户分配角色
   查询用户拥有的角色
   查询用户可访问的资源
   删除用户的角色
   实现要点：
   通过 user_role 表建立用户与角色的多对多关系
   使用 Redis 缓存提高查询性能
5. 角色-资源绑定模块
   功能：
   为角色分配资源权限
   查询角色拥有的资源
   删除角色的资源权限
   实现要点：
   通过 role_resource 表建立角色与资源的多对多关系
   使用 Redis 缓存提高查询性能

核心技术实现
1. 数据库设计
   项目使用 MySQL 数据库，主要包含以下表：
   user - 用户表
   role - 角色表
   resource - 资源表
   user_role - 用户角色关联表
   role_resource - 角色资源关联表
2. 缓存机制
   使用 Redis 实现缓存：
   缓存用户角色信息
   缓存角色资源信息
   实现缓存预热机制
3. 身份认证
   采用 JWT（JSON Web Token）实现身份认证：
   用户登录后生成 Token
   请求时通过中间件验证 Token
   Token 包含用户 ID 和用户名等信息
4. 分层架构实现
   路由层：
   使用 Gin 框架处理 HTTP 请求
   定义各模块的 API 路由
   服务层：
   处理 HTTP 请求参数绑定
   调用业务层处理业务逻辑
   返回统一格式的响应
   业务层：
   实现核心业务逻辑
   调用数据层进行数据操作
   数据层：
   使用 GORM 进行数据库操作
   实现 Redis 缓存读写
   处理缓存与数据库的一致性

项目特点
   RBAC 权限模型：完整的实现了基于角色的访问控制
   缓存优化：使用 Redis 缓存热点数据，提高系统性能
   安全机制：采用 JWT 进行身份验证，bcrypt 进行密码加密
   分层架构：清晰的分层设计，便于维护和扩展
   错误处理：统一的错误码和错误处理机制
   依赖注入：使用 Wire 实现依赖注入，降低组件耦合度
   运行流程
   用户注册/登录获取 Token
   请求受保护的资源时携带 Token
   中间件验证 Token 有效性
   根据用户角色和角色权限判断是否有访问权限
   返回相应数据或权限不足错误
   这个系统可以作为各种需要权限控制的应用的基础框架，通过扩展资源类型和权限判断逻辑，可以适应不同的业务场景。